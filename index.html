<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>è¿½å‰§è‡ªåŠ¨æ’æœŸ</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#0b1220;
  color:white;
}

header{
  text-align:center;
  padding:30px;
}

.container{
  max-width:900px;
  margin:auto;
  padding:20px;
}

.card{
  background:#1e293b;
  padding:15px;
  border-radius:10px;
  margin-bottom:15px;
}
</style>
</head>

<body>

<header>
  <h1>ğŸ“… è‡ªåŠ¨è¿½å‰§æ’æœŸ</h1>
</header>

<div class="container" id="list"></div>

<script>

fetch('data.json')
.then(res => res.json())
.then(data => {

  const container = document.getElementById('list');
  const today = new Date();

  data.forEach(show => {

    let premiere = new Date(show.premiereDate);
    let episodes = [];

    for(let i=0; i<show.totalEpisodes; i+=show.episodesPerUpdate){

      let episodeNumber = i + 1;

      let updateDate = new Date(premiere);
      let weeksPassed = Math.floor(i / show.episodesPerUpdate) * show.updateInterval;
      updateDate.setDate(updateDate.getDate() + weeksPassed);

      episodes.push({
        number: episodeNumber,
        date: updateDate.toISOString().split('T')[0]
      });
    }

    container.innerHTML += `
      <div class="card">
        <h2>${show.name}</h2>
        <p>ç±»å‹ï¼š${show.cpName}</p>
        <p>å¼€æ’­ï¼š${show.premiereDate}</p>
        <p>æ€»é›†æ•°ï¼š${show.totalEpisodes}</p>
        <p>è‡ªåŠ¨æ’æœŸå·²ç”Ÿæˆ</p>
      </div>
    `;
  });

});

</script>

</body>
</html>
